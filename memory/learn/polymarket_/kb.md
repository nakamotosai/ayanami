# KB (polymarket 套利)

## 架构与市场机制
- Polymarket 构建在 Polygon 上，采用链下撮合 + 链上结算、配合 Gnosis Conditional Token Framework（CTF）的混合架构，从微观结构角度导出二元市场与“负风险市场”之间的确定性套利不等式；这种架构让专门开发套利逻辑的团队每月能悄悄稳定拿到 1 万、5 万甚至超过 20 万美元的收益。 (Round 1 Source 1)
- 平台在 UMA 与 Polygon 基础设施上搭建，事件的“YES/NO”股份价格区间限定在 0～1 美元，成功的套利者依靠复杂的二元/组合套利与规则化的数据驱动策略来挖掘市场非效率，把握多市场组合带来的阿尔法。 (Round 1 Source 2)
- 虽然结算时 YES + NO 总价必然趋近于 1 美元，但在实际行情中两边价差不等于 1 就形成价差耕作机会；据说相关套利/价差耕作的风险占比低于 5%，年化收益约 10%～20%。 (Round 1 Source 5)

## 套利玩法与工具
- 跨平台套利的经典套路是监控 Polymarket 与 Kalshi 等平台对同一事件的隐含概率，当两者出现分歧时在一端买“YES”、另一端买“NO”，等待概率收敛；该策略实质上是合成套利，执行简单但依赖低延迟监控。 (Round 1 Source 6)
- 当某个市场只有 YES 侧流动性时（NO 较少或已清空），量化策略必须限制仓位以避免单边风险；当两边都有流动性时，持有 YES+NO 等价于“合成现金”，此时可以放宽仓位限制，并叠加 Maker Rebate 计划带来的额外收益。 (Round 1 Source 7)
- 做市商与套利者最常利用“买入 NO”策略，尤其政治类市场贡献了绝大部分已实现利润，而体育类市场目前仍是尚未充分开发的空间。 (Round 1 Source 8)
- 还有一类多事件组合套保，比如一边押 Kamala Harris 赢、一边押共和党在选举人团的所有胜选差距，当这两类头寸总价低于 1 美元时，差值部分就是可以锁定的无风险收益率，实盘案例曾宣称能达到约 40% 年化。 (Round 1 Source 10)
- 现成的开源工具 FKPolyTools 提供 scanMarkets()、实时监控、跟单与聪明钱追踪等功能，帮助开发者自动化发现并监控套利机会。 (Round 1 Source 4)
- Polymarket 做市商入门指南披露了 API 实现、六大核心盈利策略、风险管理流程以及实战操作细节，是搭建自动化套利/做市系统的重要参考。 (Round 1 Source 9)
- 由于平台对 YES+NO 组合的 $1 保证赎回机制，一旦集合价格低于 1 美元，就有 $1 - 当前总价 的套利空间；这种 Dutch Book 式的定价约束也迫使市场在无套利空间时形成强均衡。 (Round 1 Source 11)

## 风控与常见坑
- 虽然套利机会诱人，但它们通常会被快速关闭；大量人同时盯着同一个事件，价格一旦同步向着真实概率收敛，就可能出现两边同时亏损的场景，说明必须提前设定出场条件和头寸限制。 (Round 1 Source 3)

## Round 2 重点补充
- 《4000万美金的套利市场：手把手教你写Polymarket套利机器人》从交易微观结构出发，结合 Polygon+CTF 架构，把二元市场与负风险市场的价格关系写成“确定性套利不等式”，并直接连结到具体的套利机器人实现路径，文章提到部分开发者靠这些步骤每月实现 1 万、5 万甚至 20 万+ 美元的流水，说明对微结构的深度建模仍是可复制的获利路径。 (Round 2 Source 1)
- 《Polymarket十大交易策略》强调平台依托 UMA 与 Polygon 技术，是去中心化预测市场里的“新战场”，多市场组合交易的激烈程度已经超过永续合约和梗币投机；成功者必须用高频的规则化操作与数据驱动模型把可观察的非效率转化为 alpha，从而把数据优势变成系统性收益。 (Round 2 Source 2)
- Investing.com 的专访提醒：即便看似“无风险”套利，市场已经高度拥挤，套利机会会迅速收敛，如果没做好流动性交叉匹配，有可能两边同样亏损，也意味着必须提前规划风控而不是一味追求“正向预计收益”。 (Round 2 Source 3)
- FKPolyTools 这个开源工具集包含 scanMarkets()、start(market) 等模块，用于自动扫描套利市场、启动实时监控、跟单与聪明钱追踪，是快速搭建自动化套利/做市流水线的基础组件，能帮助团队把发现、监控、复盘流程高度标准化。 (Round 2 Source 4)

## Round 9 增量沉淀（源文件完整性异常）
- 本轮目录 `memory/learn/polymarket_/sources/round-9/` 下的 `search-1.json`、`search-2.json`、`search-3.json`、`search-4.json`、`search-5.json`、`urls.txt` 均为 0 字节，且未发现 `src-*.txt/.url` 实体文件；因此本轮无法从“可读证据”中提取可验证的新知识点。 (Round 9 Source 1)
- 套利玩法：由于本轮无可读来源，未能新增或修正任何具体套利打法（如跨市场对冲、同市场 YES+NO 合成、负风险市场组合）参数阈值与执行细节。 (Round 9 Source 2)
- 交易策略：由于本轮无可读来源，未能新增信号选择、下单节奏、成交优先级、资金分配等策略层结论；避免在证据缺失时做经验性外推。 (Round 9 Source 3)
- 风控：由于本轮无可读来源，未能新增关于滑点上限、流动性门槛、撤单条件、仓位熔断、延迟容忍度的实证阈值。 (Round 9 Source 4)
- 常见坑：由于本轮无可读来源，未能新增“假价差、成交错配、规则误读、结算时点误判、API 限流”相关新案例或反例。 (Round 9 Source 5)
- 合规与道德边界：本轮仅保留风险提醒，不提供任何规避监管、绕过平台规则或非法套利指导；在缺乏有效来源时尤其应避免输出可能被误用的操作性步骤。 (Round 9 Source 6)

## Round 10 增量沉淀（连续轮次源文件缺失修正）
- 数据完整性修正：`memory/learn/polymarket_/sources/round-10/` 目录下仅存在 `search-1.json` 至 `search-5.json` 与 `urls.txt`，且全部为 0 字节；同时未发现本轮 `src-*.txt/.url` 对应文件，故本轮证据集不可用于提炼新的实证交易结论。 (Round 10 Source 1)
- 套利玩法：在本轮证据为空的前提下，不能新增任何可执行套利结构（包括跨平台对冲、同事件 YES+NO 合成、负风险组合）的参数化条件；为避免误导，维持既有玩法认知，不做无证据扩展。 (Round 10 Source 2)
- 交易策略：本轮无法新增关于信号优先级、下单节奏、资金分层、挂吃单切换阈值的可验证细节；策略层面仅能给出“暂停增配、等待有效数据再迭代”的流程修正。 (Round 10 Source 3)
- 风控：连续出现空源文件本身构成研究流程风险，建议把“源文件可读性检查（非 0 字节 + URL 映射完整）”前置为策略上线前置门槛；在证据缺失时禁止调整仓位和风险参数。 (Round 10 Source 4)
- 常见坑：本轮再次暴露“把抓取成功当作内容有效”的常见认知错误；如果不核验文件大小和内容，容易把不存在的新信息误当成策略依据，导致伪增量学习。 (Round 10 Source 5)
- 合规与道德边界：在来源缺失时仅保留风险提醒与研究流程修复，不输出任何可能被用于规避平台规则、规避监管或进行非法交易的操作性指引；所有后续结论需可追溯到有效源文本。 (Round 10 Source 5)

## Round 11 增量沉淀（源文件集合缺失：仅能做流程与风险修正）
- 本轮限定材料路径 `memory/learn/polymarket_/sources/round-11/src-*.txt` 与 `memory/learn/polymarket_/sources/round-11/src-*.url` 未发现任何匹配文件，因此无法从正文证据提取新的行情、参数或策略结论；本轮增量仅能沉淀为“研究流程修正与风险提醒”。 (Round 11 Source 1)

### 套利玩法（本轮可确认的增量）
- 在缺失 `src-*.txt/.url` 证据时，暂停新增任何“可执行套利玩法”定义，包括但不限于跨平台对冲、同事件 YES+NO 合成、负风险市场组合；避免把未经证据支持的经验判断写入知识库并误用于实盘。 (Round 11 Source 1)
- 将“玩法更新门槛”明确化：只有当本轮至少存在可读 `src-*.txt` 且对应 `src-*.url` 可映射时，才允许新增/修正触发阈值、失效条件与执行顺序。 (Round 11 Source 1)

### 交易策略（本轮可确认的增量）
- 本轮不应新增信号逻辑、参数阈值或执行节奏（如最小价差、挂吃单切换、撤单超时、成交优先级），因为这些均需要可追溯文本证据支持。 (Round 11 Source 1)
- 策略层新增一条流程控制：若来源为空轮次，策略参数版本号保持不变，禁止“口头修正”或“记忆修正”，避免回测与实盘配置漂移。 (Round 11 Source 1)

### 风控（本轮可确认的增量）
- 把“源文件完整性检查”升级为风控前置项：未通过检查（缺 `src-*.txt/.url`、文件不可读、URL 不可配对）时，禁止基于该轮材料调整仓位、杠杆、日内回撤阈值与熔断规则。 (Round 11 Source 1)
- 将“证据缺失”本身视为模型风险事件：记录为空轮次并进入问题清单，优先修复数据链路后再讨论策略迭代。 (Round 11 Source 1)

### 常见坑（本轮可确认的增量）
- 常见坑修正 1：把“抓取任务执行成功”误当成“内容有效”；实际上没有 `src-*.txt/.url` 就没有可引用证据。 (Round 11 Source 1)
- 常见坑修正 2：在证据缺失轮次继续补写“细节参数”，会制造伪知识并污染后续回测基线。 (Round 11 Source 1)
- 常见坑修正 3：未做去重与证据标注，容易把旧结论反复包装成“新增认知”。 (Round 11 Source 1)

### 合规与道德边界（风险提醒）
- 在本轮证据为空的情况下，只保留合法合规的风险提醒，不提供任何规避监管、绕过平台规则、规避地区限制或其他可能违法违规的操作指引。 (Round 11 Source 1)
- 后续即便补齐来源，也应坚持“研究与风控优先”，不把套利讨论扩展为非法资金流、账户规避、身份规避等内容。 (Round 11 Source 1)

## Round 12 增量沉淀（来源门槛未满足：仅可做证据链与流程风控修正）
- 本轮指定来源路径 `memory/learn/polymarket_/sources/round-12/src-*.txt` 与 `memory/learn/polymarket_/sources/round-12/src-*.url` 均无匹配文件，且目录内仅存在 0 字节 `search-1..5.json` 与 `urls.txt`；因此本轮不能形成任何基于正文证据的新增交易认知，增量仅限“证据缺失处置”与“流程约束”层面。 (Round 12 Source 1)

### 套利玩法（本轮新增/修正）
- 修正规则：当轮若不存在可读 `src-*.txt/.url` 配对证据，禁止新增任何可执行套利玩法定义（跨平台对冲、YES+NO 合成、负风险组合、事件篮子配平），避免把主观经验误写成“已验证玩法”。 (Round 12 Source 1)
- 玩法层最小准入条件补充：只有在“可读正文 + 可追溯 URL + 可定位段落”三项同时满足时，才允许记录触发阈值、失效条件、成交优先级等可执行细则。 (Round 12 Source 1)

### 交易策略（本轮新增/修正）
- 策略版本管理修正：本轮不得变更参数版本（如最小价差阈值、最小深度门槛、超时撤单窗口、重试次数、挂吃单切换条件），防止因空来源导致“参数漂移”并污染回测基线。 (Round 12 Source 1)
- 新增流程控制：把“来源有效性检查”放在策略讨论之前；若检查失败，仅允许输出故障记录与待查问题，不允许输出新策略结论。 (Round 12 Source 1)

### 风控（本轮新增/修正）
- 将“证据缺失”定义为研究级风险事件：该事件触发后，禁止因本轮内容调整仓位上限、日内回撤阈值、滑点容忍度与熔断逻辑；即研究风控优先于交易风控参数更新。 (Round 12 Source 1)
- 建议补充一条流水线硬闸门：若 `src-*.txt/.url` 任一缺失，自动标记轮次为 `NO_EVIDENCE` 并终止知识写入阶段的“策略参数更新分支”。 (Round 12 Source 1)

### 常见坑（本轮新增/修正）
- 常见坑修正 1：把“抓取任务触发”误当成“来源可用”；实际上没有 `src-*.txt/.url`，就无法建立可审计结论。 (Round 12 Source 1)
- 常见坑修正 2：在空轮次强行输出执行细节，容易制造伪增量并在后续轮次被重复引用，形成知识库自我污染。 (Round 12 Source 1)
- 常见坑修正 3：未先做去重就复制上轮结论，会导致“同义重复”掩盖真正缺口；本轮应明确写“无新证据，仅流程修正”。 (Round 12 Source 1)

### 合规与道德边界（提醒风险，不提供非法指导）
- 本轮继续坚持合法合规边界：仅做风险提醒与研究流程修复，不提供任何规避监管、绕过平台准入、规避 KYC/地区限制、规避平台规则的操作建议。 (Round 12 Source 1)
- 当证据缺失时，更应收缩输出到“可验证事实 + 风险提示”，避免产出可被误用的投机性执行步骤。 (Round 12 Source 1)
